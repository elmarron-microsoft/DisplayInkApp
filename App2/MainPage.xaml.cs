using System;
using Windows.System;
using System.Collections.Generic;
using Windows.UI.Xaml;
using Windows.UI.Xaml.Controls;
using Windows.Storage.Streams;
using Windows.UI.Input.Inking;
using Windows.UI.Popups;
using System.Threading.Tasks;
using System.Linq;
using System.IO;

// The Blank Page item template is documented at https://go.microsoft.com/fwlink/?LinkId=402352&clcid=0x409

namespace DisplayInkApp
{
    /// <summary>
    /// An empty page that can be used on its own or navigated to within a Frame.
    /// </summary>
    public sealed partial class MainPage : Page
    {

        private static string[] HEADERS = { "GUID", "RECO", "RECO_LEN", "STROKE_COUNT", "RECOLEN_STROKECOUNT" };
        public static Windows.UI.Color BLUE_COLOR = Windows.UI.Color.FromArgb(255, 0, 255, 0);
        public MainPage()
        {
            this.InitializeComponent();
        }


        private void Button_Click(object sender, RoutedEventArgs e)
        {
            try
            {
                string hexInput = ISFText.Text;
                DisplayRecord(hexInput);
            }
            catch (Exception ex)
            {
                ErrorDisplay.ShowErrorMessage(ex.Message);
            }
        }

        private async void DisplayRecord(string hexInput)
        {
            try
            {
                InMemoryRandomAccessStream stream = new InMemoryRandomAccessStream();
                using (DataWriter writer = new DataWriter(stream.GetOutputStreamAt(0)))
                {
                    writer.WriteBytes(HexStringToByteArray(hexInput));
                    await writer.StoreAsync();
                    var iSC = new InkStrokeContainer();

                    await SampleInkCanvas.InkPresenter.StrokeContainer.LoadAsync(stream);

                    SampleInkCanvas.Width = SampleInkCanvas.InkPresenter.StrokeContainer.BoundingRect.Right;
                    SampleInkCanvas.Height = SampleInkCanvas.InkPresenter.StrokeContainer.BoundingRect.Bottom;

                    StrokeTextBlock.Text = "Number of Strokes: " + SampleInkCanvas.InkPresenter.StrokeContainer.GetStrokes().Count.ToString();
                }
                stream.Dispose();
            }
            catch (Exception ex)
            {
                ErrorDisplay.ShowErrorMessage(ex.Message);
            }
        }
        
            private static byte[] HexStringToByteArray(String hex)
            {
                //hex = "0x474946383961BA003F0070000021F90401000001002C00000000BA003F008100000000000000000000000002FF8C8FA9CBED0FA39CB4DA8BB3DEBC7B0C7CE2489626139EEACAB64DEAC6F2CC01308DE7FA72EFFE2FEB0187C491AD884C7684CAA6D3717C4AA78A28F52A6562B7432BD7E0FDD2C21AAD8A2C7685CC1676699DC6A13373133C1EAC5FF42437C5E68777E7C127123891722836B8A458F301E3B8C5F81820B971C9739049458909D69258098A87424A787A960AB259FAB2FA69190A5B71C399750B456BD45AE60A216AB82B3C2C11F9AB294B9C6BDCCBEA8C7CCA5C55DCE75B1D77BCBC329D1C8D7DAD6C076D1CFC4D0D5E4BCE9B0E76A77D6E95C9066FBDFE2A5E1F6D6B2F9E00788B5F0473FA72002424F0CF838296CCB54110081EC319131F72BBC7B050427CFFFE1C1A8408228A976EE8FCA562C2A7871B9120A50124B9F0A5C981C154AA03466E24B595E558B64C24A450C3363A1D15B5D90FE93A4FFF5AFE3BE25119536C077BAA346ACB93D1814E67069DF9E265D535281BD25B788F071AA1B0A2C284B67155C5415FDD9505142EDF2BA0910EDD8D85136E4969F83CF6DDDBCC1BA9397417276E0AF68DD3B2930BCB4DEB0E934DA678094786BC5331DAC77A07C75D3AD90CDBC85FB56E34AC34F46048954D77EDCA4894EAA0642897CC7ADB2141C4A23906EEA525AE6F59C77C56891D3BF373E43A9B268C0A32793FC78AA37BED9B1138C48CA6C65F95FD1D8A6AAE28A263FF5C7EBCAE4D747DF32E3EF4362889C5A6C2A63F1EDC2EE4E9F7DF58EF49851F58DE9D945D4CF33D481A731C2DA79D4205F6B65C4EF39DE7E009DEF93751887F1C28605DA055E35A877494F7E16707BE68E14A2865981F386FDD645C7A9685351A307E40851E46F27D51E15310CEE2A23E945078E376CE2C8853933B1A89DB49F649C98E710105219D592C3E69DF152676B4884657ADB75A12679DA3992047B209678F4FC649E75EF46059671A69E6C9679F7EFE09A80405000021FEFE0089481D04A604B60101900141F3F300F65EAF4999B9AB163DF1A3FA6B3B30B41652124E8BC4DAB8277E970E8B9C40C4E0729844A86EC13E45475BA9BC935B3D2E1656499FB95E971F2A7ECEC5F54EF871689F49992851DA40616A9C6D9F0729765512468B05C526280D067B5554D87E08FF4140AB85852CCD781E18A14C82D0886E9540B443B269584FD4EF2FC9D665F0E2AA4D9316C52D3ECFA0DE032748116406000400ABAAD341650212880066021288024534670232980068063E004FA98000004634050738360B696A6B6C191C320900FEFF070100C01E45330900FEFF070100C01E45380400FEFF010A9D46FE0584F8A4BE2E5E6F87B9B5A60962FED18AD4D5B238256B5E178DB1E1C3A71D70CC4B046CB4A19B04325D0C359CE586B74AB3A55830852B68A17A5A12CB6BC239B6E4BC2E03142118E6ACA11C11B4212619E1AE38CA78E728C14BE68A11C9870108A535268E6CF7866C3AC52B9215C93A4B0A1130448CA10846D09C2338CE70AC6B19C706733E08CE358DA9385255C51A4D08C2E65565323621382CA14E14258272702F39CAEC31C72CF8EED6E9D908D304B05258AD8A5AB062843066CF6CB970E3C77D77CF1C78638F0C3566D52C1B2BAA91C52A61DC46748C33E0BE5BDF8396B5C30BDF067A4A6942325304F44A14648E89E8C5284291CD96F6C328E39D73E39E7C75D3A72D31DCD4C9830530FE6AC183560A60966CF870D37CD5C3A33D164704611B5A55A618C538C2B38562AC67717B0B465342E2F0C30AD673CB194E094B26085A945A1A2D194E11946959499E31C35BE0C7309C92A4219A79253843064C7182B1ACA3A36CB1C670ADEF0CF9B3D6F3A278A368D864BDA11BA11C77AE1ACF8B08AB3AE18E0B6A966C18296C5B2D2C13C0B61864BD6339CEF39D658E1785B0C67826846DB36E2C128119CB0E1C1AD858691C39AF6B5AB49609DB3523023920CB7ADF1DEF8EF785D594A93C52CD2C59A16C1295A11A433C1973CE396786AAE1C31CB96186D82568E6C59885F23B78FD77DC6394C5595DB6E1E7C1E1F0B2DF8B96FC7C51C37E02EBB1D561ACFEC64584A6186D8D5DF0DB5DF81B72B5E3698A3A21920929A30532E8AA9A2920A2692050B990AA2C54984516473CF7C185B69A55DF2E06DC2E071B2CF1532516C57612AC46030182C062AE8A38E0BE79E9573CB1DAAE5C0CF5D38F8A2A6182E82682EB229AAAA4B22C161288E2865956D2B699F0F3E1E3C5C37DEC1D781870944D761269B0164956030156430545D1D12CD86B51534DB879E9AD8382D9ED9E7AE0B638A5929A24A204D245348004A4A8638299A48609244924D15974D0CD5CB5C381C0B1F0E156C53CD7CD34782A26B2AC05146024A269AEC0CF15B0DF6C16C73D783C3CB7D30C78B869B70134984B3054623018CC66130D8A83252CD6E0E3FEC3E0E5C4D381B6B970F6D785C2C09145144925D04D549559461A8A09A996186B9E3B639EB96B9E9C1C70CB1C735544188AB25A0258F0B1E0E39EB96B97075D391A23992591495285515524982A6EA97C4B63B581B609D15334334345780A22C34B8AC04D05D7C34C6AE78E78E7AE596B9EBC0C7838688628A892E826A269249A25904354B0D33CF56157D71D73432C12C51C324D0C914D049248AA49A6A2AC4471534ADA6DAEB6069A5819258219174165524925916031182A26B679E1BE9AE3BD7CB5D32DEBE7B688618A892C8AC9229A492CC25574345B3D30D7836065B6DA659668AA9A8C160A8B2A9E0473E0E0B6B5B3D381238648219104535134D4FE45828289B150CD1515D72E0EBA71389C5DB81C1C78BC8ADC1575438A83098ABB0184BAAC1558EC361325AAB2AC44306171B4E5E787E57CE17DE27FBF67FBF70BF5FB85FD7F5FEFC2FD9FCBF5FEFDC0FF7EE1FE6FF5FEFC5FD7FBF2FD7E67FBF5F97FBF67FBF2FD7FBF67FBF67FBF2FD7FBF5FC5FD7EBF5FCBF67FBF5FD9F99FEFCBF67F5F85FEFD7E67FBF5FEFCBF67FBF5F99FEFCBF6FFBF67E67FBF5FEFD7FBF5FEFD7F5FAFD9FEFD7E67F67E5FD7F5F97FBF2FD9FEFD7F67E67F67E67FBF2FD9FD9FAFDBFEFCBF67F5FAFD9FEFC2FD7F5FEFC0BF5FCBF5FD7FBF5FEFC2FD9FEFC2FD7F5FEFCBF67FBF2FD9FEFCBF67FBF2FD7F5FCBF67FBF17EBF67FBFEF5F97F5FEFC5FAFDBFD7E5F82FDBFD9F99FEFC5FEFC5FCBF5FD9FD9F8BF67EBF67F5FEFC5FEFD7E67F2FD9FD9F99FD7EBF67FBF17FBF5FEFCBF67FBF5F867FBF0BF5FD7FBF02FD9FEFC0017EBF67F17F5FAFD7FBF5FD7FBF5FAFDBFD7E005FEFCBF5FEFD9FD9F99FEFD7FBF2FD7F5F9BFEFCBF5F97F0BF67FBF5F99FD7E5FD7EBF5FEFD7F5FEFCBF5FC2FD7FBF5FD7FBF2FD7F5FEFC05FEFCBF5FD7FBF2FD7F0BF67FBF2FD9FEFCBF5FEFD9FD7E2FD9FEFC2FD7FBF67F5F8BF5FEFD7F5FEFCBF67FBF2FD9FD9F99FD7E017FBF2FD9FEFC0BF5FC5FD9F99FEFD7FBF2FD7FBF5FD7F5FAFD7FBF67FBF2FD7F0017FBF17FBF2FD7FBF5FD7FBF02FD9FD9F97F0FEBF67FBF5F85FEFD7F2FD9FD9F99FEFD7FBF5FEFD9FEFD7E5FAFDC0FF7EBF005FAFE2FF7E5FB3FDF817EBF8BFDF805FAFE5F97EDFEBF0017EBF817EBFDFAFEBF33FDFB81F9C0FEBFB3FDFB83F9BFEFD9FEFC6FF5FAFD7FBF5FAFD7F017E5FD7FBF05FEFD9FEFDC1FF7EE5FF008772FA785CD207E03A0F0203F81523C0CF7E0526F01D4F80FDBC0807E03E0F01F8F80EBBC0597E02C6F0216F8149BC096FE02E8F0100F809F3C0643E02C2F28A079436FC074FE0416F0147F80A9BC069FE014EF0039F803FBC02A3E0194F0116F80AFBC0607E0356F0175F80C0BC072FE05F2F041CF81A13C0957E0492F0237F80D33C053BE032EF00F1F800D3C020BE01DCFEF00F1F807BBC0643E04ECF0269F80E73C065BE0426F02A7F81723C0B43E04D2F0216F80D03C04E3E025EF0058F77A77B7F80153C02D7E01C0F00D5F80913C05FFE034CF0192F80EFBC075FE0340F01B7F80A63C0457E01DCF00FAF80C93C0413E0022F0036F8056BC0333E0124F0108F80DBBC06EBE0390F01EAF81553C0CCFE04EAF022FF8198BC0DC7E0456F01C8F810DBC058BE01F6F01A6F810ABC04E3E012EF01B3F81073C067BE0374F0179F80AC3C06CFE0480F0277F8121BC08DFE0410F01C8F80C4BBA87AAABB48FBEA3C023BE024EF00EDF80693C04EBE054CF038BF81263C06AFE0616F0398F81903C0C7BE05C6F0281F80F4BC03DBE0156FFE00EDF80703C01D7E00D2F0134F80DF3C06DBE03ACF01E3F80E73C070FE04BAF028DF80E83C07EFE0662F03DBF81543C0403E011EEFF5EE88EF55F00357807BFC0675E0301F017F780D97C0701E0259F01217810D7C0A1DE0447F01A97809F7C0351E027FF019B7807BFC0275E01EFF0135780A2FC05CDE034BF01BB780E1FC0791E0429F0425783017C11CDE05A5F024D78104FC0969E04EFF01BF7805C7C0325E02D3F012B780447C01B1E0263F01AA780BA7C0649E03A5F02AC781B5FC0B21E044DF02F2781AC7C06F1E0209F01807806D7C00F1E0159F00F2780657C0379E020BF011A780BF7C0735E03A9F02FC782097C0B69E0361F02557816B7C08FE31E02B5F0191780C2FC0465E01B5F00D5780987C0559E02B1F01D8781147C07D5E043DF033A781D4FC0CC1E0653F033E78190FC0BCDE03A5F00087720F6DB77ECF80A63C04A3E0154F00FEF80D6BC0893E04E8F0224F8119BC0B3BE052EF0212F80F7BC06B7E0208F00ECF80A5BC0177DE5DE00E7F00FB7805B7C037DE0377F01E9780DBFC0851E0459F031B781F87C0E25E0639F0267781387C09CDE0371F014478034FC0291E039BF016D780737C0419E0289F01CE780F5FC0695E0395F023A780ED7C0645E0497F01F27805A7C0161E01BFF01457805FFC0199E018FF00E9780867C05EDE0313F0126780977C0651E0371F01F87810E7C0959E0563F0FE339781C97C09A5E0321F01E678057FB9CBBFCFC0335E006DEF78F00E0F81023C0747E0294F0162F8146BC0D7FE0706F03B8F81803C0873E041EF0249F81253C06EFE01FAF0071F804BBC0517E027CF00B2F805FBC060FE0384F00FCF8063BC05D7E0420F023FF8110BC08DBE0532F024BF8092BC011BE002AF0093F80843C04B7E02B8F0122F80683C0597E0418F0205F80EFBC0783E05CCF0336F80C33C04A3E049CF027EF80D0BC0547E03BCF01ACF80813C05ABE040EF01C7F80D33C07ABE0374F0171F80C93C05BBE0376F270F79388FC08EFE02D2F00D8F8093BC028BE0036F00EDF80BF3C0383E0160F0176F80E4BC066BE0356F0144F80A6BC088FEBE03FEF01ACF8113BC0893E032EF01A2F812A3C09AFE02EAF00C6F8076BC0473E01F4F018BF8126BC08A7E03E8F0207F81983C0F87E05EAF02EAF819EBC0A63E0318F0182F80F93C062BE02EAF017AF80833C0483E0266F0107F80AFBC06A3E02FCF0152F8137BC0EE7E0546F00F0F80803C0777E0372F011CF80A13C005FDCF5E01A7F01277804EFC04D5E045FF0253780FEFC0ADDE067DF037D782037C0D8DE04D7F027678169FC0985E0343F017378096FC0335E01ADF01027806EFC058DE04B7F01CF780A07C06E9E041DF0314781FD7C0B29E02B3F01B378145FC0849E0235F00E0780747C0259E0093F00B77804BFBF2BC01DFE02B2F01AEF80D2BFEC0363E02F6F02D1F8103BC05CFE0380F01F7F8161BC0C7FE0418F004AF77478020FC0425E0299F0198780ED7C076DE0379F020F78116FC08C1E0529F02A57812A7C0A05E05C9F0290780F1FC0541E01FFF016A7811DFC081DE025DF0138780DF7C0645E01BBF00F8780E37C0751E02BDF01AF7812CFC09D5E037FF00D1780877C0601E0191F00787808A7C0579E02FFF0178780C6FC07B9E0403F01D7780DF7C0855E04D5F0223780ECFC08E1E049FF0188780AE7C0775E02C7F00817804C7C0411E0185F00437806BFC08B1E058FF023B780DB7C09F1E0611F024F780E8FC0825E04A5F01FC780AEFC0461E0171F004D77F2F7EF77B7F70577DEF809D3CFE06E3E0356F0121F8091BC056BE03EAF02DDF811A3C05BBE0536F0367F81193C05E7E03A0F0169F8068BC03ABE0282F01AAF80E33C06D3E03FEEFC7EADEEF3DF02B978198FC0955E044FF02DC78180FC07C1E02ADF01C07804F7BCEBC0377E0316F0122F806DBC0243E00E2F00F2F80B8BC059BE048CF0342F8162BC08EFE0444F01FDF80C8BC0523E032EF01B5F80AB3C0417E01FAF0145F80E0BC080BE041CF0206F8107BC084BE058CF03A7F818C3C08E7E03C2F01EAF8104BC06E3E02A2F0089F80063C019BE0114F00EFF80DC3C08E3E03E6F0194F812ABC0B2FE048CF0231F814DBC0B9BE063AF02A9F80A7BC0397E0272F00D2F8035BC0183E0142FEF014CF80B5BC04BFE0302F01E9F80F0BC0493E023CF0242F8124BC033FE0154F01F6F81423C0B3FE0576F01F6F80A53C04E3E02C4F013AF81AFBC184FE087CF01C38BA290004200000B04215BC95417CFBE3410000AA3E0000000000000000F9848241D7150142A71DCF3E0000000000000000B6247041EA330C42CD47C03E000000000000000038CC4D4194A71B420080C23E00000000000000008D622241862F2F425E5AC43E0000000000000000DE67DF40E6FB4842591C013F00000000000000008E69C74055AF5F420080EE3E000000000000000056B5B94094A66C42C186E73E00000000000000001016F9407F306D427FAEF03E00000000000000FE0072812141DE7D66420000EC3E000000000000000096726841FBA25942073BF53E0000000000000000D1D18141E0CF41423CD5BF3E00000000000000009235A041004133420080E43E00000000000000000C9AAB41DECB2D420080E93E0000000000000000C80B9F41C0EF4142FFFFF43E0000000000000000C05D9D41FD5A4542FFFFF43E0000000000000000993B9841A8CD4F42FFFFF43E000000000000000037338C41382E5F420040003F00000000000000009203944168C8694201C0003F0000000000000000C5609B415AC67342BF8E0E3F0000000000000000A161B54106FC6142FCEA0B3F00000000000000009C1FB941CE695E4200000E3F00FE00000000000000BA97D341382745426D3E163F00000000000000002B04E1413E532342595E193F00000000000000004BDDE54162EF06420140173F00000000000000006649EA418213DA41D2611B3F00000000000000003BB8E5413255A4411784183F0000000000000000FA85EC4104A1624100C0183F0000000000000000868BEF41EC4F35410140193F000000000000000068DCF841D40084410000183F000000000000000068EAF9417A728A410000183F000000000000000077E00142328EC6410000183F0000000000000000DDC50242E78304420080163F00000000000000009AFD0342E65B23420080163F0000000000000000167A0442BEAC2FFE420080163F00000000000000005E6E01426FE03F4202C0133F0000000000000000A5400442ECDC4B420040143F0000000000000000ECB60542FC1252429B01193F0000000000000000BFD80842EE7548420E85133F0000000000000000627D0942A470464200C0153F0000000000000000186F1042149F30429FCE103F0000000000000000580915420B4E15422C65173F0000000000000000F4E3224292FF01420040113F00000000000000006E5528424DD3F44100C0103F0000000000000000FE0F334288BEE64100800D3F0000000000000000228C3442D39F014200800D3F000000000000000014F736426BD4184200800D3F00000000000000009DFE903242162B304201000F3F000000000000000095903242E18F474200000E3F000000000000000098903242BF2A4E42189A0A3F00000000000000000A533642C2B65942DF9A0C3F0000000000000000E2FD3B420C314F420080093F00000000000000000D1B4642C2693C420180083F0000000000000000793446429A68244200800A3F0000000000000000921B4F42DEBB104200800A3F0000000000000000E6845042569D0D4200800A3F00000000000000008E5A5242324A034200000B3F0000000000000000A2B356420FBF024200000B3F0000000000000000EA71564246C7024200000B3F0000000000000000623057429E120B420040093F000000FE00000000006E56574218520C4200C0093F0000000000000000248559429AA61E4200400A3F0000000000000000E2FF5E42DCD634420080093F000000000000000082356842D64745420080093F0000000000000000345D7042EAD653420080093F00000000000000003A787842BED83A4200C00A3F000000000000000048E07A42D4AC344200400B3F00000000000000007BF385428B02094216D80B3F0000000000000000208088425903B341C482073F000000000000000027F091423A7D394100C00A3F00000000000000006EEB9242588B2741BF2A0A3F00000000000000003C149342BD3550411EC7083F00000000000000003C14934238A9564100FEC0093F000000000000000033149342E3F2B74141B1093F0000000000000000FF088E42C7A902422EE6083F00000000000000004F818D42C1D1284200C00A3F0000000000000000DE5B8D420859334251DB0B3F000000000000000016E88C42E62B4042E15E0A3F0000000000000000B6CB8E4236FE49420000023F0000000000000000E0558F4284CC4C426D16FB3E000000000000000081CD8E42274D444298BCFD3E000000000000000047378E42417741420080003F0000000000000000314B8B427F583342E6FB003F00000000000000003C8C89425A622342006F023F00000000000000005FB98542DB0116420080033F0000000000000000CE9E85FE42E6A41542EDA2123F000000000000000050F38A423C7215429531063F0000000000000000BBE08B423C72154200000C3F0000000000000000294796423C721542B3050A3F000000000000000007419F4226FA124253140B3F00000000000000007388A8425A300A420080013F0000000000000000A71BAC428DCD0642FF22D13E0000000000000000B7B6A44295D009429A7BF53E00000000000000008B93A34266B60A420100F73E0000000000000000ACD89C4239061042E8A2013F000000000000000072E79742E17B1F421DBEFE3E0000000000000000930D9642883B2D420000083F000000000000000080A494421CB5374200000A3F0000000000FE0000002D109C42AB132A4200000A3F0000000000000000BB329D424412284200000A3F0000000000000000074EA642CEFA174200000A3F00000000000000001739B24265400742FFBF083F0000000000000000E883B7425E69E2410140083F00000000000000001AE3B9424EA6CE41C737053F00000000000000007402B242DF86E8419309083F0000000000000000E127B142F3C2EB4100C0063F00000000000000006BD4A94208C203423B5D0E3F00000000000000002EF19E42AFE71642B98A093F000000000000000013C3A142FA742D4200400C3F0000000000000000E825A442098A404217870A3F00000000000000009999AE424C163642505E0AFE3F00000000000000004B10B342DEE72D4200000C3F000000000000000052A4BF42E8D9164201000C3F00000000000000009F75C7421AB1E64100000B3F0000000000000000E35ECC427018A74100000B3F0000000000000000052BCD4214C59C4100000B3F0000000000000000EFC7CE42569A804100000E3F00000000000000002406CB42BE9E784101000F3F00000000000000003E64C842BE9A724114E80F3F00000000000000003AF4C54228C38E4155820F3F0000000000000000B4F6C44250F0964100400F3F00000000000000000BD5BB425554E2417133093F0000000000000000BDA0B942D49F1A4246E2113F00000000000000003E36B1429FFEA4404201C00F3F000000000000000062D3AF42A0E746420140113F00000000000000009FADAE4258CC4D4200800F3F0000000000000000ECE8AC428674534200800F3F0000000000000000318AAD42B370514200800F3F00000000000000004B27AE422D6A494200800F3F0000000000000000C2C7AE4296A7454200800F3F00000000000000005B41B3428DCF2A4200800F3F00000000000000009816C0428D67084201C00F3F000000000000000018E3CF4262EF064200400F3F00000000000000002A90DE42F39105420F28103F00000000000000004D06D942D5AD2E42375B113F000000000000000063F4D24210553B4200C00C3F00000000000000FE004E4BCC4278374942F9CE113F0000000000000000E76CC242D8325642A05F0E3F0000000000000000F764B8424258574201C00F3F00000000000000007F00AF42FF6A584289B7143F0000000000000000B02BB5422EA643427D510D3F00000000000000003FEDB7424A743C4200C00C3F0000000000000000E774BB424D3D334219270C3F00000000000000004D9AC142D7042942B680103F0000000000000000B986C742ACC5274200400F3F0000000000000000434ECD42468E264202C00E3F0000000000000000D0E1CE42E2ED3B4200800F3F0000000000000000BCD4CF42E84E444200800F3F0000000000000000EFF6D04298514E4200800F3F00FE00000000000000F7E1D442AEC6614200C0103F0000000000000000B5CADA42A20153420040113F00000000000000006F3EE34271E13D4248B9123F0000000000000000C54EE74250C71E421326103F00000000000000001444F242E67A0D4200C0103F0000000000000000F91AF942FAAE02422A190E3F000000000000000075BCF64294C921427D01133F000000000000000075BCF6429CFC26420040113F000000000000000075BCF642474B274298640F3F00000000000000006D6BF842C2BE1F421D83153F00000000000000006A6BF842E6101C420080123F0000000000000000726BF84219F51342B175103F0000000000000000C9BCF7420A6B08FE42FBD1103F00000000000000009765F242B9E60E420040123F000000000000000094BFEB42F9F816423D1C153F00000000000000003C6DE742D8D12A4263890D3F00000000000000003C33E4428F9038420040123F0000000000000000AB69E242B22D40420743153F00000000000000000C3BE04211ED4D420005123F00000000000000008AC2E2421C8355420080133F00000000000000002FE0E442B3DB5B428239133F000000000000000004EAEA42C7655442FFA9113F0000000000000000CAA2EC42947650420080123F0000000000000000BA02F242602E44425D01123F00000000000000001ACCF5421A4033420E32103F00000000000000005AFE75FA42A8C025420100113F00000000000000001A3AFC428AA12042A568113F0000000000000000B7BFFD42FED21942B79C103F0000000000000000F5E1FF42F68E154201C00F3F000000000000000094560043A6F8134260B60E3F0000000000000000FE2B0043FFE621425D27103F00000000000000006B360043882E24420100113F0000000000000000C4910043222A38425B02103F000000000000000087EB04435C722C42D2DF0E3F00000000000000007A300743DE9C264200400E3F0000000000000000F6A20A432EC01D42699C133F0000000000000000DF3F0D43ECE71242E2AB0D3F0000000000000000FC491043A251084201400F3F000000FE00000000002ACB11430C1403426539113F00000000000000007C8E1443D03DF34119A40E3F00000000000000007B901643D23DF3410100113F0000000000000000FAAB1743D13DF3410300113F000000000000000073DE1643DD870542FFFF103F000000000000000035AD1643158B08420100113F00000000000000009BD11543B5FA15426FB4103F0000000000000000CBA91443D8852442D27E0F3F000000000000000034CE13437E3E324200400E3F000000000000000005C7134362B1324201800E3F000000000000000005C71343FAFD324201000F3F000000000000000006C713434724334201800F3F000000000000000034C71343ED722B4200FE80103F000000000000000030F91443EE88214200800F3F0000000000000000E53E1543D342194200800F3F00000000000000002B891543E571104200800F3F000000000000000060C41543CFD20542FFFF103F0000000000000000239E12437E7C06420100113F000000000000000081510B43CC050842DD45113F000000000000000039130643DACB2642F459133F000000000000000039D20143CFB43B420140173F00000000000000003C23004354FB4342B526193F0000000000000000A5B3FC42AE5D4D42F26C183F0000000000000000940EFB42893B57420080183F000000000000000010A9F942B69B5F42AE131B3F000000000000000058AF00FE43DC60584209B6163F00000000000000007B660143BE55564200C0163F0000000000000000C8F406430C77464277420B3F0000000000000000D4E70943FAA82C42AC8C163F00000000000000001CD20E4396E519420100113F0000000000000000AF70124376140C42C91B103F00000000000000000DEF1143DE3626422707153F0000000000000000E01012433AD72E420040113F00000000000000009626124350613442B2D30F3F000000000000000066301243C8AC3C42B72C133F000000000000000044BD12431B6441420100113F0000000000000000E29613432BAD48420100113F000000000000000092391643BE6E3B420080123F0000000000FE00000064B41643070D39420080123F00000000000000009C001843B09B32420080123F000000000000000079861943FEEE2442FFFF103F0000000000000000918C1B43E89921420100113F0000000000000000D8E11C43E8671F420857113F0000000000000000666A1C438BE32D429B19103F0000000000000000E4501C43389930420040123F0000000000000000AB291C433FC434421EED133F0000000000000000BE5E1B4350F93D42EB0D0F3F00000000000000004BA91B434177414200C0173F00000000000000002BDF1B43A0FD43420040183F0000000000000000FD5F1D43C54D3B420080153F000000000000000021881D43683F3A42008015FE3F000000000000000003BD204353A624420080153F0000000000000000A6D1264348EF0B42FEBF163F000000000000000061D72C43E9AB02420140173F0000000000000000D9AE2F43EF99FC41CBA11C3F0000000000000000AF0A2D437B441242A0E31B3F0000000000000000BB962C431521174200801C3F0000000000000000726C2B43DEA2234293792A3F0000000000000000D02D2A4348C93042694C2B3F000000000000000034472943ACA63D420040203F000000000000000043A8284386844642584F293F000000000000000041242B433417374214B2263F0000000000000000948A2B43C82634420140263F0000000000000000D1D9314302FEC20542FFBF253F0000000000000000C7793643337FAB410080153F000000000000000048BD3B43F02215410080153F0000000000000000BD203D438400C4400080153F00000000000000000D833E4358F118400080153F000000000000000043A13F4380C376BF0080153F0000000000000000D0763B43DA8438410080153F0000000000000000AA063743BEE4E7410040093F00000000000000000EB535432E1330420180F93E00000000000000001C9D3543A85634420100ED3E0000000000000000BE8E3543181438420100D93E0000000000000000BE8E3543CFB43B420000C53E0000000000000000BE8E354386553F420000B13E0000000000000054001C9D354383D9424200009D3E00000000000000007BAB3543805D46420000893E00000000000000000A00140062D18734C311D40109162800971DE0C0000000120015200100000000000000981B59CD01000000003B";
                int NumberBytes = (hex.Length - 2) / 2;
                byte[] bytes = new byte[NumberBytes];

                using (var sr = new StringReader(hex))
                {
                    // read first 2 bytes ("0x")
                    for (int i = 0; i < 2; i++)
                    {
                        sr.Read();
                    }

                    // Read hex characters
                    for (int i = 0; i < NumberBytes; i++)
                    {
                        bytes[i] =
                            Convert.ToByte(new string(new char[2] { (char)sr.Read(), (char)sr.Read() }), 16);
                    }
                }

                return bytes;
            }

        private async void Button_Click_Aug(object sender, RoutedEventArgs e)
        {
            await Task.Run(() =>
            {
                CSVAugmentor.AugmentCSV(HEADERS);
            });
            
        }
    }
}
